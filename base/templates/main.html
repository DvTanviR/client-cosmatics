{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beyond - Makeup Manufacturer</title>
    <meta name="description" content="A Reliable Private Label Makeup Manufacturer For You">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

     <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Belleza&display=swap" rel="stylesheet">

    <link rel="icon" type="image/png" href="{% static 'logo.jpg' %}">

    <!-- Custom CSS for scrollbar hide and other utilities -->
    <style>
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        /* Custom CSS variables for consistent styling */
        :root {
            --background: oklch(1 0 0);
            --foreground: oklch(0.145 0 0);
            --card: oklch(1 0 0);
            --card-foreground: oklch(0.145 0 0);
            --popover: oklch(1 0 0);
            --popover-foreground: oklch(0.145 0 0);
            --primary: oklch(0.205 0 0);
            --primary-foreground: oklch(0.985 0 0);
            --secondary: oklch(0.97 0 0);
            --secondary-foreground: oklch(0.205 0 0);
            --muted: oklch(0.97 0 0);
            --muted-foreground: oklch(0.556 0 0);
            --accent: oklch(0.97 0 0);
            --accent-foreground: oklch(0.205 0 0);
            --destructive: oklch(0.577 0.245 27.325);
            --destructive-foreground: oklch(0.577 0.245 27.325);
            --border: oklch(0.922 0 0);
            --input: oklch(0.922 0 0);
            --ring: oklch(0.708 0 0);
            --chart-1: oklch(0.646 0.222 41.116);
            --chart-2: oklch(0.6 0.118 184.704);
            --chart-3: oklch(0.398 0.07 227.392);
            --chart-4: oklch(0.828 0.189 84.429);
            --chart-5: oklch(0.769 0.188 70.08);
            --radius: 0.625rem;
            --sidebar: oklch(0.985 0 0);
            --sidebar-foreground: oklch(0.145 0 0);
            --sidebar-primary: oklch(0.205 0 0);
            --sidebar-primary-foreground: oklch(0.985 0 0);
            --sidebar-accent: oklch(0.97 0 0);
            --sidebar-accent-foreground: oklch(0.205 0 0);
            --sidebar-border: oklch(0.922 0 0);
            --sidebar-ring: oklch(0.708 0 0);
        }

        .dark {
            --background: oklch(0.145 0 0);
            --foreground: oklch(0.985 0 0);
            --card: oklch(0.145 0 0);
            --card-foreground: oklch(0.985 0 0);
            --popover: oklch(0.145 0 0);
            --popover-foreground: oklch(0.985 0 0);
            --primary: oklch(0.985 0 0);
            --primary-foreground: oklch(0.205 0 0);
            --secondary: oklch(0.269 0 0);
            --secondary-foreground: oklch(0.985 0 0);
            --muted: oklch(0.269 0 0);
            --muted-foreground: oklch(0.708 0 0);
            --accent: oklch(0.269 0 0);
            --accent-foreground: oklch(0.985 0 0);
            --destructive: oklch(0.396 0.141 25.723);
            --destructive-foreground: oklch(0.637 0.237 25.331);
            --border: oklch(0.269 0 0);
            --input: oklch(0.269 0 0);
            --ring: oklch(0.439 0 0);
            --chart-1: oklch(0.488 0.243 264.376);
            --chart-2: oklch(0.696 0.17 162.48);
            --chart-3: oklch(0.769 0.188 70.08);
            --chart-4: oklch(0.627 0.265 303.9);
            --chart-5: oklch(0.645 0.246 16.439);
            --sidebar: oklch(0.205 0 0);
            --sidebar-foreground: oklch(0.985 0 0);
            --sidebar-primary: oklch(0.488 0.243 264.376);
            --sidebar-primary-foreground: oklch(0.985 0 0);
            --sidebar-accent: oklch(0.269 0 0);
            --sidebar-accent-foreground: oklch(0.985 0 0);
            --sidebar-border: oklch(0.269 0 0);
            --sidebar-ring: oklch(0.439 0 0);
        }

        .belleza-regular {
            font-family: "Open-Sans", sans-serif;
            font-weight: 400;
            font-style: normal;
            }
        .body{
            font-family: 'belleza';
        }
        /* Hide elements marked with x-cloak until Alpine initializes to prevent FOUC */
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="belleza-regular antialiased"  x-data="shopApp()">
    
    <div class="min-h-screen bg-white" x-data="{ mobileNavOpen: false }">
        <!-- Navigation -->
    <nav class="sticky top-0 z-40 bg-white flex items-center justify-between px-6 py-4 border-b border-gray-100">
            <a href="{% url 'home' %}">
        <div class="flex items-center space-x-2">
                
                <div class="w-10 h-10 rounded-lg"><img src="{% static 'logo.jpg' %}" alt=""></div>
                <span class="text-xl font-semibold text-gray-900">Zhuhai Beyond Cosmetics</span>
               
            </div>
             </a>
            <!-- Desktop Nav -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="{% url 'home' %}" class="text-gray-600 hover:text-gray-900 transition-colors">Home</a>
                <a href="{% url 'about' %}" class="text-gray-600 hover:text-gray-900 transition-colors">About Us</a>
                {% for nav in nav_structure %}
                <div class="relative group">
                    <button class="text-gray-600 hover:text-gray-900 transition-colors focus:outline-none">
                        {{ nav.main.name }} <i class="fa fa-chevron-down text-xs ml-1"></i>
                    </button>
                    {% if nav.subs %}
                    <div class="absolute left-0 mt-2 w-40 bg-white border border-gray-100 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible group-focus-within:opacity-100 group-focus-within:visible transition-all z-50">
                        {% for subcat in nav.subs %}
                        <a href="{% url 'category_products' subcat.id %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">{{ subcat.name }}</a>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
                <a href="{% url 'news_list' %}" class="text-gray-600 hover:text-gray-900 transition-colors">News</a>
                <a href="{% url 'contact' %}" class="text-gray-600 hover:text-gray-900 transition-colors">Contact</a>
            </div>
            <!-- Right Side Icons -->
            <div class="flex items-center space-x-4">
                <!-- Wishlist Icon with Count -->
                <a href="{% url 'wishlist' %}" class="relative flex items-center">
                    <i class="fa-regular fa-heart text-2xl text-gray-600 hover:text-red-500 transition-colors"></i>
                    <span id="wishlistCount" class="absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-semibold rounded-full px-1 py-0.5 min-w-[16px] text-center">0</span>
                </a>
                <!-- <select class="border border-gray-200 rounded-md px-3 py-1 text-sm text-gray-600">
                    <option>English</option>
                </select> -->
                <!-- Mobile Nav Toggle: always visible on mobile -->
                <button class="md:hidden text-gray-600 hover:text-gray-900 focus:outline-none" @click="mobileNavOpen = true" aria-label="Open menu">
                                <!-- hamburger (3-line) icon -->
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="text-2xl" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 6h16v2H4z" />
                                    <path d="M4 11h16v2H4z" />
                                    <path d="M4 16h16v2H4z" />
                                </svg>
                </button>
            </div>
        </nav>
                    <div x-cloak x-show="mobileNavOpen" x-transition class="fixed inset-0 z-50 bg-black bg-opacity-40 md:hidden">
                        <div class="fixed top-0 right-0 w-72 h-full bg-white shadow-lg overflow-y-auto">
                            <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100">
                                <span class="text-xl font-semibold text-gray-900">Menu</span>
                                <button @click="mobileNavOpen = false" aria-label="Close menu" class="text-gray-600 hover:text-gray-900 focus:outline-none">
                                    <i class="fa fa-times text-2xl"></i>
                                </button>
                            </div>
                            <nav class="flex flex-col px-6 py-4 space-y-2">
                                <a href="{% url 'home' %}" class="text-gray-600 hover:text-gray-900 py-2">Home</a>
                                <a href="{% url 'about' %}" class="text-gray-600 hover:text-gray-900 py-2">About Us</a>
                                {% for nav in nav_structure %}
                                <div x-data="{ open: false }" class="border-b border-gray-100 py-2">
                                    <button @click="open = !open" class="w-full text-left flex items-center justify-between text-gray-700 font-semibold focus:outline-none">
                                        <span>{{ nav.main.name }}</span>
                                        <i :class="open ? 'fa fa-chevron-up' : 'fa fa-chevron-down'" class="ml-2 text-xs"></i>
                                    </button>
                                    {% if nav.subs %}
                                    <div x-show="open" x-transition class="pl-4 mt-2 space-y-1">
                                        {% for subcat in nav.subs %}
                                        <a href="{% url 'category_products' subcat.id %}" class="block text-gray-500 hover:text-purple-700 py-1">{{ subcat.name }}</a>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                {% endfor %}
                                <a href="{% url 'news_list' %}" class="text-gray-600 hover:text-gray-900 py-2">News</a>
                                <a href="{% url 'contact' %}" class="text-gray-600 hover:text-gray-900 py-2">Contact</a>
                            </nav>
                        </div>
                    </div>

        <!-- Main Content -->
        <main class="py-0">
            {% block content %}
            {% endblock %}
        </main>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-16">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Footer Links Grid -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 mb-12">
                    {% for nav in nav_structure %}
                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold text-white">{{ nav.main.name }}</h3>
                        <div class="space-y-3">
                            {% if nav.subs %}
                                {% for subcat in nav.subs %}
                                    <a href="{% url 'category_products' subcat.id %}" class="block text-gray-300 hover:text-white transition-colors text-sm">{{ subcat.name }}</a>
                                {% endfor %}
                            {% else %}
                                <span class="block text-gray-400 text-sm">No subcategories</span>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}

                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold text-white">Address</h3>
                        <div class="space-y-3">
                            <a class="block text-gray-300 hover:text-white transition-colors text-sm">3/F, Building 1. No. 1 Chuangye West Road, Liangang Industrial Area, Hongqi Town, Jinwan District, Zhuhai City, Guangdong Province, China</a>

                        </div>
                    </div>
                </div>

                <!-- Footer Bottom -->
                <div class="border-t border-gray-700 pt-8">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold text-sm"><img src="{% static 'logo.jpg' %}" alt="" srcset=""></span>
                            </div>
                            <span class="text-gray-300 text-sm">Copyright 2025 Â© Zhuhai Beyond Cosmetics</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


</body>
<script>
// Update wishlist count in navbar in real time
function updateWishlistCount() {
    var count = 0;
    try {
        var wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
        count = wishlist.length;
    } catch (e) {}
    var el = document.getElementById('wishlistCount');
    if (el) el.textContent = count;
}
// Listen for changes to localStorage (from other tabs/windows)
window.addEventListener('storage', function(e) {
    if (e.key === 'wishlist') updateWishlistCount();
});
// Update on page load and every time the DOM changes wishlist
document.addEventListener('DOMContentLoaded', function() {
    updateWishlistCount();
    // Patch push/remove to update count after wishlist changes
    var origSetItem = localStorage.setItem;
    localStorage.setItem = function(key, value) {
        origSetItem.apply(this, arguments);
        if (key === 'wishlist') updateWishlistCount();
    };
});
</script>
</html>
